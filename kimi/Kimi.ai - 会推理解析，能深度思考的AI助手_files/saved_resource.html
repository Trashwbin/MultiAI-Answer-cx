
<!-- saved from url=(0011)about:blank -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><script type="text/javascript">/**
 * 此函数需要在沙箱中运行
 */
;(function ($window) {
  var $document = $window.document
  var $navigator = $window.navigator

  // 解码字符串
  function decodeStringToArray (str) {
    return str.split('').reverse().join('').split('@')
  }

  // 等同于 Array.prototype.map
  function _map (list, fn) {
    var result = []
    for (var i = 0; i < list.length; i++) {
      result.push(fn(list[i], i, list))
    }
    return result
  }

  // 等同于 [].slice.call()
  function _toArray (obj) {
    var result = []
    for (var i = 0; i < obj.length; i++) {
      result.push(obj[i])
    }
    return result
  }

  // 等同于 Object.keys
  function _keys (obj) {
    var result = []
    for (var key in obj) {
      if (Object.prototype.hasOwnProperty.call(obj, key)) {
        result.push(key)
      }
    }
    return result
  }

  // 创建不可见的元素
  function createInvisibleElement (tag) {
    var $el = $document.createElement(tag)
    $el.style.position = 'absolute'
    $el.style.left = '-9999px'
    $el.style.top = '-9999px'
    $document.body.appendChild($el)
    return $el
  }

  // 获取系统内置的默认颜色值
  function getSystemColor () {
    var $el = createInvisibleElement('div')
    var colorAlias = decodeStringToArray('txeTofnI@ecaFDeerhT@redroBevitcA@uneM@noitpaCevitcanI@dnuorgkcaBofnI@wodniW@redroBevitcanI@txeTnoitpaC@thgilhgiHDeerhT@ecaFnottuB@wodahSnottuB@ecapskroWppA@wodahSthgiLDeerhT@thgilhgiH@emarFwodniW@txeTyarG@noitpaCevitcA@txeTwodniW@wodahSkraDDeerhT@txeTuneM@dnuorgkcaB@rabllorcS@txeTnoitpaCevitcanI@txeTnottuB@wodahSDeerhT@thgilhgiHnottuB@txeTthgilhgiH')
    var colors = _map(colorAlias, function (alias) {
      $el.style.color = alias
      var color = $window.getComputedStyle($el).getPropertyValue('color')
      return color.replace(/(rgba?)|[()]/gi, '').replace(/,\s+/g, '_')
    })
    $document.body.removeChild($el)
    return colors.join(',')
  }

  // 获取支持的媒体类型
  function getMimeTypes () {
    var mimeTypes = _toArray($navigator.mimeTypes)
    return _map(mimeTypes, function (mime) { return mime.type })
      .join(',')
  }

  // 获取执行时间
  function getPerfTime () {
    return 0
  }

  // 获取浏览器支持的最大溢出栈
  function getMaxStackSize () {
    var count = 0
    function loop () {
      count++
      loop()
    }
    try {
      loop()
    } catch (e) {
      return count
    }
    return count
  }

  // 获取空内容标签的大小
  function getSpaceSize () {
    var $el = createInvisibleElement('span')
    $el.innerHTML = '&nbsp'
    var width = $el.offsetWidth
    var height = $el.offsetHeight
    $document.body.removeChild($el)
    return [width, height]
  }

  // 获取属性标签
  function getDOCProps () {
    var props = decodeStringToArray('egnahcetatsydaerno@eulaVedon@erofeBtresni@etubirttAetaerc@delbanEneercslluFtikbew@tnioPmorFstnemele@evomretniopno@unemtxetnocno@rotceleSyreuq@IRUesab@etatSytilibisiv@steehSelyts@sucofno@etadpuemitno@egnahcetarno@stpircs@reklaWeerTetaerc@tnemelEretsiger@yalpnacno@leehwesuomno@epyTtnetnoc@tuoretniopno@rorreneercslluftikbewno@EDON_YTITNE@SNIATNOC_NOITISOP_TNEMUCOD@puretniopno@emaNyBstnemelEteg@IRUtnemucod@tucno@roloCknila@hcraesno@etaulave@GNIDECERP_NOITISOP_TNEMUCOD@tnemelEkcoLretniop@EDON_NOITCURTSNI_GNISSECORP@ydob@EDON_TNEMMOC@dneperp@gnilbiStxen@egnahcemulovno@tnemmoCetaerc@revloseRSNetaerc@edoNtpoda@yalpno@tnevEhcatta@ypocno@neercslluFtixEtikbew@tnemelEgnillorcs@dnammoCcexe@noitcurtsnIgnissecorPetaerc@EDON_NOITCES_ATADC@rotaretIedoNetaerc@noisserpxEetaerc@tratsgardno@stnevEesaeler@gnidocnElmx@esolc@timbusno@revoesuomno@daeh@dlihCtnemelEtsal@roloCknil@ecapsemaNtluafeDsi@tnuoCtnemelEdlihc@stelppa@eltit@evaelgardno@dlihCevomer@tnioPmorFegnaRterac@atadatemdedaolno@neddih@tnemelEtnerap@leehwno@dlihCtsrif@dedneno@tnemelEneercslluFtikbew@sknil@lecnacno@etsaperofebno@dlihCtsal@egnahcnoitarudno@stnof@eikooc@tnetnoCtxet@niamod@tnemelEetaerc@edoNtooRteg@tnevEhctapsid@tnemelEtnemucod@renetsiLtnevEevomer@gnitiawno@tcelesno@dellatsno@gniyalpno@egnahcnoitcelesno@tnevEhcated@kcilcno@EDON_ECNEREFER_YTITNE@revogardno@tnemelEevitca@SNemaNgaTyBstnemelEteg@SNtnemelEetaerc@epytcod@eziserno@raelc@esolcno@stnevEerutpac@etatSdnammoCyreuq@EDON_NOITATON@tnemucoDrenwo@ypocerofebno@sedoNdlihCsah@edoNtropmi@neercSlluFsItikbew@sucoFsah@rid@tucerofebno@nepo@dlihCtnemelEtsrif@segami@EDON_TNEMGARF_TNEMUCOD@llArotceleSyreuq@enoladnatSlmx@deitpmeno@detcennoCsi@edoNemaSsi@xiferPpukool@etatSytilibisiVtikbew@kcilcxuano@dnepsusno@emaNssalCyBstnemelEteg@detroppuSdnammoCyreuq@gardno@tuoesuomno@gnilbiSsuoiverp@tpircStnerruc@gnidocnEtupni@egnahcytilibisivno@rerrefer@srohcna@IRUecapsemaNpukool@sdebme@emaNgaTyBstnemelEteg@puyekno@nletirw@edoNlauqEsi@kcoLretnioPtixe@sniatnoc@tupnino@tnevEetaerc@etatSydaer@rulbno@dIyBtnemelEteg@teSteehselytSderreferp@SNetubirttAetaerc@ezilamron@noitacol@egnahckcolretniopno@GNIWOLLOF_NOITISOP_TNEMUCOD@LRU@tnemelEtoor@erutpacretnioptsolno@edoNtnerap@tnemelEneercSlluFtnerruCtikbew@nerdlihc@roloCgf@egnahcneercslluftikbewno@sedoNdlihc@egnaRetaerc@deifidoMtsal@sserpyekno@noitatnemelpmi@evomesuomno@YB_DENIATNOC_NOITISOP_TNEMUCOD@weiVtluafed@nigiro@noisreVlmx@snigulp@edoMngised@revoretniopno@emaNedon@CIFICEPS_NOITATNEMELPMI_NOITISOP_TNEMUCOD@retneesuomno@daolno@gnikeesno@evaelesuomno@smrof@neddiHtikbew@kcilclbdno@ataddedaolno@delbanEdnammoCyreuq@lla@trobano@dlihCdneppa@EDON_TNEMUCOD@edoMtapmoc@tratstcelesno@tnioPmorFtnemele@epyTedon@dlihCecalper@noitceSATADCetaerc@pordno@puesuomno@elggotno@teSteehselytSdetceles@neercSlluFlecnaCtikbew@egnahcno@EDON_TNEMELE@DETCENNOCSID_NOITISOP_TNEMUCOD@etirw@eulaVdnammoCyreuq@roloCknilv@nwodesuomno@EDON_TXET@teserno@noitisoPtnemucoDerapmoc@esuapno@dneppa@edoNtxeTetaerc@dnegardno@tratsdaolno@rorrekcolretniopno@rorreno@evaelretniopno@tnemgarFtnemucoDetaerc@retneretniopno@teSretcarahc@tesrahc@egnahceucno@EDON_EPYT_TNEMUCOD@etsapno@EDON_ETUBIRTTA@ssergorpno@edoNenolc@lecnacretniopno@roloCgb@dilavnino@renetsiLtnevEdda@nwodretniopno@hguorhtyalpnacno@retnegardno@nwodyekno@erutpacretnioptogno@llorcsno@dekeesno@mretednIdnammoCyreuq@noitceleSteg')
    return _map(props, function (prop) { return (prop in $document ? '1' : '2') }).join('')
  }

  // TODO
  function getDOMProps () {
    return ''
  }

  // Get iterable keys of navigator
  function getNavigatorKeys () {
    return _keys(navigator).join(',')
  }

  var sanboxMessage = ["NEGuardian_2.0.7", [
    getSystemColor(),
    getMimeTypes(),
    getPerfTime(),
    getMaxStackSize(),
    getSpaceSize(),
    getDOCProps(),
    getDOMProps(),
    getNavigatorKeys()
  ]]

  $window.parent.postMessage(JSON.stringify(sanboxMessage), '*')
})(window)
</script></body></html>