function watermark(b){var h={watermark_txt:"text",watermark_x:20,watermark_y:50,watermark_rows:0,watermark_cols:0,watermark_x_space:50,watermark_y_space:40,watermark_color:"#ccc",watermark_alpha:0.4,watermark_fontsize:"15px",watermark_font:"微软雅黑",watermark_width:110,watermark_height:80,watermark_angle:20};if(arguments.length===1&&typeof arguments[0]==="object"){var a=arguments[0]||{};for(key in a){if(a[key]&&h[key]&&a[key]===h[key]){continue}else{if(a[key]){h[key]=a[key]}}}}var k=document.createDocumentFragment();var g=$(window).width()-h.watermark_width;var f=Math.max($(window).height(),$("body").height())-h.watermark_height;if(h.watermark_cols==0||(parseInt(h.watermark_x+h.watermark_width*h.watermark_cols+h.watermark_x_space*(h.watermark_cols-1))>g)){h.watermark_cols=parseInt((g-h.watermark_x+h.watermark_x_space)/(h.watermark_width+h.watermark_x_space));h.watermark_x_space=parseInt((g-h.watermark_x-h.watermark_width*h.watermark_cols)/(h.watermark_cols-1))}if(h.watermark_rows==0||(parseInt(h.watermark_y+h.watermark_height*h.watermark_rows+h.watermark_y_space*(h.watermark_rows-1))>f)){h.watermark_rows=parseInt((h.watermark_y_space+f-h.watermark_y)/(h.watermark_height+h.watermark_y_space));h.watermark_y_space=parseInt(((f-h.watermark_y)-h.watermark_height*h.watermark_rows)/(h.watermark_rows-1))}var m;var l;for(var e=0;e<h.watermark_rows;e++){l=h.watermark_y+(h.watermark_y_space+h.watermark_height)*e;for(var c=0;c<h.watermark_cols;c++){m=h.watermark_x+(h.watermark_width+h.watermark_x_space)*c;var d=document.createElement("div");d.id="mask_div"+e+c;d.className="mask_div";d.appendChild(document.createTextNode(h.watermark_txt));d.style.webkitTransform="rotate(-"+h.watermark_angle+"deg)";d.style.MozTransform="rotate(-"+h.watermark_angle+"deg)";d.style.msTransform="rotate(-"+h.watermark_angle+"deg)";d.style.OTransform="rotate(-"+h.watermark_angle+"deg)";d.style.transform="rotate(-"+h.watermark_angle+"deg)";d.style.visibility="";d.style.position="absolute";d.style.left=m+"px";d.style.top=l+"px";d.style.overflow="hidden";d.style.zIndex="-1";d.style.pointerEvents="none";d.style.opacity=h.watermark_alpha;d.style.fontSize=h.watermark_fontsize;d.style.fontFamily=h.watermark_font;d.style.color=h.watermark_color;d.style.textAlign="center";d.style.width=h.watermark_width+"px";d.style.height=h.watermark_height+"px";d.style.display="block";k.appendChild(d)}}document.body.appendChild(k)};